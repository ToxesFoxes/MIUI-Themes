<?xml version="1.0" encoding="utf-8"?>
<Lockscreen frameRate="60" frameRateBatteryLow="20" frameRateCharging="60" screenWidth="1080" version="1">
  <!-- Определение ширины и высоты экрана -->
  <Var expression="#screen_width" name="sw" type="number"/>
  <Var expression="#screen_height" name="sh" type="number"/>
  <!--начало-->
  <Var name="light_scale">
    <VariableAnimation initPause="true" loop="false">
      <AniFrame easeType="QuintEaseOut" time="0" value="1"/>
      <AniFrame easeType="QuintEaseOut" time="400" value="1.2"/>
      <AniFrame time="800" value="1"/>
    </VariableAnimation>
  </Var>
  <Var name="cam_scale">
    <VariableAnimation initPause="true" loop="false">
      <AniFrame easeType="QuintEaseOut" time="0" value="1"/>
      <AniFrame easeType="QuintEaseOut" time="400" value="1.2"/>
      <AniFrame time="800" value="1"/>
    </VariableAnimation>
  </Var>
  <Wallpaper blur="20"/>
  <ExternalCommands>
    <Trigger action="resume">
      <!-- Открыть экран обновить данные записи движения -->
      <BinderCommand command="refresh" name="MiSteps"/>
    </Trigger>
    <Trigger action="init">
      <MethodCommand method="performAction" paramTypes="String" params="'chargeAniAction'" target="chargeAni"/>
    </Trigger>
    <Trigger action="init">
      <MethodCommand method="performAction" paramTypes="String" params="'chargeAniAction'" target="Micharging_chargeAni"/>
    </Trigger>
    <Trigger action="resume">
      <Command target="unlocktext_ani.animation" value="play"/>
      <Command target="unlockalpha_ani.animation" value="play"/>
      <Command target="charge_ani.animation" value="play"/>
    </Trigger>
    <Trigger action="init">
      <VariableCommand expression="1" name="unlockButtonSwitch"/>
    </Trigger>
    <Trigger action="resume,pause">
      <VariableCommand expression="0" name="SimpleLockScreen_moveX"/>
      <VariableCommand expression="0" name="SimpleLockScreen_moveY"/>
      <VariableCommand expression="0" name="SimpleLockScreen_moveA"/>
      <VariableCommand expression="0" name="SimpleLockScreen_moveB"/>
      <AnimationCommand command="play(0,0)" target="SimpleLockScreen_moveAn"/>
      <VariableCommand expression="0" name="SimpleLockScreen_unlockA"/>
      <AnimationCommand command="play(0,0)" target="SimpleLockScreen_unlockAn"/>
      <VariableCommand expression="0" name="SimpleLockScreen_moveX_SW"/>
      <VariableCommand expression="0" name="SimpleLockScreen_moveY_SW"/>
    </Trigger>
  </ExternalCommands>
  <VariableBinders>
    <ContentProviderBinder columns="city_name,publish_time,temperature,temperature_range,description,weather_type,wind,humidity" countName="hasweather" dependency="weather" uri="content://weather/weather" uriFormat="content://weather/daily_weather/%s" uriParas="@city_id">
      <Variable column="weather_type" name="weather_id" type="int"/>
      <Variable column="city_name" name="weather_location" type="string"/>
      <Variable column="temperature" name="weather_temperature" type="string"/>
      <Variable column="temperature" name="weather_temperature" type="int"/>
      <Variable column="temperature_range" name="weather_temperature_range" type="string"/>
      <Variable column="description" name="weather_description" type="string"/>
      <Variable column="wind" name="weather_wind" type="string"/>
      <Variable column="humidity" name="weather_humidity" type="string"/>
      <Variable column="temperature" name="weather_temperature_str" type="string"/>
      <Variable column="wind" name="weather_wind" type="string"/>
      <Variable column="publish_time" name="weather_publish_time" type="long"/>
      <Variable column="weather_type" name="weather_id1" row="1" type="int"/>
      <Variable column="weather_type" name="weather_id2" row="2" type="int"/>
      <Variable column="weather_type" name="weather_id3" row="3" type="int"/>
      <Variable column="tmphighs" name="weather_temphigh1" row="1" type="int"/>
      <Variable column="tmplows" name="weather_templow1" row="1" type="int"/>
      <Variable column="tmphighs" name="weather_temphigh2" row="2" type="int"/>
      <Variable column="tmplows" name="weather_templow2" row="2" type="int"/>
      <Variable column="tmphighs" name="weather_temphigh3" row="3" type="int"/>
      <Variable column="tmplows" name="weather_templow3" row="3" type="int"/>
    </ContentProviderBinder>
    <ContentProviderBinder columns="city_id" name="weather" uri="content://weather/actualWeatherData/1">
      <Variable column="city_id" name="city_id" type="string"/>
    </ContentProviderBinder>
    <ContentProviderBinder columns="aqi,pm25,pm10,so2,no2,pub_time,src,spot" countName="hasweatherinfo" dependency="weather" name="weather_aqi" uriFormat="content://weatherinfo/aqi/%s" uriParas="@city_id">
      <Variable column="aqi" name="aqi" type="int"/>
      <Variable column="pm25" name="pm25" type="int"/>
      <Variable column="pm10" name="pm10" type="int"/>
      <Variable column="so2" name="so2" type="int"/>
      <Variable column="no2" name="no2" type="int"/>
    </ContentProviderBinder>
    <ContentProviderBinder columns="icon,title,content,time,info,subtext,key" countName="hasnotifications" name="data" uri="content://keyguard.notification/notifications">
      <Variable column="icon" name="NoticeIcon0" row="0" type="blob.bitmap"/>
      <Variable column="icon" name="NoticeIcon1" row="1" type="blob.bitmap"/>
      <Variable column="icon" name="NoticeIcon2" row="2" type="blob.bitmap"/>
      <Variable column="icon" name="NoticeIcon3" row="3" type="blob.bitmap"/>
      <Variable column="title" name="NoticeTitle" type="string[]"/>
      <Variable column="content" name="NoticeContent" type="string[]"/>
      <Variable column="time" name="NoticeTime" type="string[]"/>
      <Variable column="key" name="NoticeKey" type="string[]"/>
      <Trigger>
        <AnimationCommand command="play(0,0)" target="NoticeUp"/>
        <AnimationCommand command="play(0,0)" target="NoticeAni"/>
      </Trigger>
    </ContentProviderBinder>
    <!-- 注意：不可卸载 小米健康App -->
    <ContentProviderBinder column="steps,goal,distance,energy,strength_duration,summary" countName="hasSteps" name="MiSteps" uri="content://com.mi.health.provider.main/activity/steps/brief">
      <Variable column="steps" name="MiSteps_steps" type="string"/>
      <Variable column="goal" name="MiSteps_goal" type="string"/>
      <Variable column="distance" name="MiSteps_distance" type="string"/>
      <Variable column="energy" name="MiSteps_energy" type="string"/>
      <Variable column="strength_duration" name="MiSteps_strength_duration" type="string"/>
      <Variable column="summary" name="MiSteps_summary" type="string"/>
    </ContentProviderBinder>
  </VariableBinders>
  <Var expression="eq(#weather_id,0)+eq(#weather_id,1)" name="has_night_icon"/>
  <Var expression="ifelse(#has_night_icon,'_'+not(ge(#hour24,6)*le(#hour24,17)),'')" name="icon_suffix" type="string"/>
  <Var expression="ge(#weather_id,4)*le(#weather_id,11)" name="is_rain"/>
  <Var expression="ge(#weather_id,12)*le(#weather_id,17)" name="is_snow"/>
  <Var expression="ge(#weather_id,18)*le(#weather_id,21)+eq(#weather_id,23)" name="is_dust"/>
  <Var expression="ifelse(isnull(#weather_id),1,gt(#weather_id,24),1,#weather_id)" name="icon_suffixa"/>
  <Var expression="ifelse(#is_rain,4,#is_snow,12,#is_dust,18,#icon_suffixa)" name="icon_index"/>
  <Var expression="(180+50)" name="NoticeSpace" type="number"/>
  <Var expression="int(#touch_x-#touch_begin_x)*#NoticeMoveDown+#NoticeAni" name="NoticeMove"/>
  <Var name="NoticeAni">
    <VariableAnimation initPause="true" loop="false">
      <AniFrame time="0" value="0"/>
      <AniFrame time="100" value="int(#touch_x-#touch_begin_x)"/>
      <AniFrame time="300" value="ifelse(int(#touch_x-#touch_begin_x) }= 300,1080,0)"/>
      <Triggers>
        <Trigger action="end" condition="#NoticeAni == 1080">
          <AnimationCommand command="play" target="NoticeUp"/>
        </Trigger>
      </Triggers>
    </VariableAnimation>
  </Var>
  <Var name="NoticeUp">
    <VariableAnimation initPause="true" loop="false" name="NoticeUpAni">
      <AniFrame time="0" value="0"/>
      <AniFrame time="300" value="1"/>
      <Triggers>
        <Trigger action="end" condition="#NoticeUpAni.current_frame == -1">
          <MultiCommand>
            <IntentCommand action="com.miui.app.ExtraStatusBarManager.action_remove_keyguard_notification" broadcast="true">
              <Extra expression="@NoticeKey[#NoticeDown]" name="com.miui.app.ExtraStatusBarManager.extra_notification_key" type="int"/>
              <Extra expression="0" name="com.miui.app.ExtraStatusBarManager.extra_notification_click" type="int"/>
            </IntentCommand>
          </MultiCommand>
        </Trigger>
      </Triggers>
    </VariableAnimation>
  </Var>
  <Var const="true" name="NoticeIconXYWH" type="number[]" values="167,90,130,130"/>
  <!-- Данные проигрывателя : старт -->
  <ExternalCommands>
    <Trigger action="resume">
      <AnimationCommand command="play" condition="#Coolblack_music_control.music_state==1 ** #_musicAni==0" delay="1" target="_musicAni"/>
      <AnimationCommand command="resume" condition="#Coolblack_music_control.music_state==1 ** #_musicAni!=0" delay="1" target="_musicAni"/>
      <AnimationCommand command="play" condition="#Coolblack_music_control.music_state==1 ** #_musicShowAni==0" delay="200" target="_musicShowAni"/>
    </Trigger>
    <Trigger action="pause">
      <Command condition="#Coolblack_music_control.music_state==1" target="Coolblack_music_control.visibility" value="true"/>
      <Command condition="#Coolblack_music_control.music_state==0" target="Coolblack_music_control.visibility" value="false"/>
      <AnimationCommand command="pause" target="_musicAni"/>
      <AnimationCommand command="play(0,0)" condition="#Coolblack_music_control.music_state==0" target="_musicShowAni"/>
    </Trigger>
  </ExternalCommands>
  <VariableBinders/>
  <!-- Поворот альбома -->
  <Var expression="#Coolblack_music_control.music_state" threshold="1">
    <Trigger>
      <AnimationCommand command="play" condition="#Coolblack_music_control.music_state==1 ** #_musicAni==0" target="_musicAni"/>
      <AnimationCommand command="resume" condition="#Coolblack_music_control.music_state==1 ** #_musicAni!=0" target="_musicAni"/>
      <AnimationCommand command="pause" condition="#Coolblack_music_control.music_state==0" target="_musicAni"/>
    </Trigger>
  </Var>
  <Var name="_musicAni">
    <VariableAnimation initPause="true" loop="true">
      <AniFrame time="0" value="0"/>
      <AniFrame dtime="15000" value="360"/>
    </VariableAnimation>
  </Var>
  <Var name="_musicShowAni">
    <VariableAnimation initPause="true" loop="false">
      <AniFrame easeType="CubicEaseInOut" time="0" value="0"/>
      <AniFrame time="600" value="1"/>
    </VariableAnimation>
  </Var>
  <!-- Время воспроизведения песни миллисекундное обновление -->
  <Var expression="#Coolblack_music_control.music_position" threshold="1">
    <Trigger>
      <AnimationCommand command="play" target="musicPosition"/>
    </Trigger>
  </Var>
  <Var name="musicPosition">
    <VariableAnimation initPause="true" loop="false">
      <AniFrame time="0" value="ifelse(#Coolblack_music_control.music_position{1000,0,#musicPosition)"/>
      <AniFrame time="1000" value="#Coolblack_music_control.music_position"/>
    </VariableAnimation>
  </Var>
  <Var const="true" expression="#screen_width - 50*2" name="MusicCoolBlackW"/>
  <!-- Данные проигрывателя : конец -->
  <Group h="#screen_height" layered="true" w="#screen_width">
    <Wallpaper/>
    <!-- 1 экран -->
    <Group x="#defaultScreen_x" y="#defaultScreen_y/4">
      <!-- Тут должны были быть уведомления -->
      <!-- Виджеты -->
      <Group y="#defaultScreen_y/4">
        <Group x="90" y="250">
          <!-- Заряд и подсчёт шагов -->
          <Group>
            <!-- Кнопка смены заряд/шаги -->
            <Button align="center" alignV="center" h="300" w="300" x="150" y="150">
              <Triggers>
                <Trigger action="up" condition="(#timeAni==0) || (#timeAni==1)">
                  <VariableCommand expression="!#steps_charge_style" name="steps_charge_style" persist="true"/>
                </Trigger>
              </Triggers>
            </Button>
            <!-- Заряд -->
            <Group visibility="#steps_charge_style == 0" x="0" y="0">
              <Rectangle cornerRadius="50" fillColor="#BF000000" h="300" w="300" x="0" y="0"/>
              <Circle align="center" alignV="center" alpha="255*0.5" cap="round" fillColor="#00FFFFFF" r="100" strokeAlign="center" strokeColor="#FFFFFF" weight="20" x="150" y="150"/>
              <Arc align="center" alignV="center" cap="round" close="false" fillColor="#00000000" h="200" startAngle="-90" strokeAlign="center" strokeColor="#FFFFFF" sweep="#battery_level/100*360" w="200" weight="20" x="150" y="150"/>
              <Arc align="center" alignV="center" cap="round" close="false" fillColor="#00000000" h="200" startAngle="-90" strokeAlign="center" strokeColor="#56CC89" sweep="#battery_level/100*360" w="200" weight="20" x="150" y="150" visibility="(#battery_state==1||#battery_state==3)" />
              <Text align="center" alignV="center" color="#FFFFFF" size="40" textExp="#battery_level+'%'" x="150" y="150"/>
              <!-- <Image src="left_screen/battery.png" visibility="(#battery_state==1||#battery_state==3)" x="215" y="425" w="22" h="41"/> -->
            </Group>
            <!-- Подсчет шагов -->
            <Group visibility="#steps_charge_style == 1" x="0" y="0">
              <Rectangle cornerRadius="50" fillColor="#BF000000" h="300" w="300" x="0" y="0"/>
              <Circle align="center" alignV="center" alpha="255*0.5" cap="round" fillColor="#00FFFFFF" r="100" strokeAlign="center" strokeColor="#FFFFFF" weight="20" x="150" y="150"/>
              <Arc align="center" alignV="center" cap="round" close="false" fillColor="#00000000" h="200" startAngle="-90" strokeAlign="center" strokeColor="#FFFFFF" sweep="@MiSteps_steps/@MiSteps_goal*360" w="200" weight="20" x="150" y="150"/>
              <Image align="center" alignV="center" src="charge/shoes.png" x="150" y="110"/>
              <Rectangle align="center" alignV="center" alpha="255*0.7" fillColor="#FFFFFF" h="2" w="62" x="150" y="152"/>
              <Text align="center" alignV="center" color="#FFFFFF" size="30" textExp="@MiSteps_steps" x="150" y="174"/>
            </Group>
          </Group>
          <!-- Календарь -->
          <Group h="200" w="300" x="350" y="0">
            <Group visibility="#calendar_style == 0">
              <Rectangle cornerRadius="50" fillColor="#BF000000" h="200" w="300" x="0" y="0"/>
              <DateTime color="#FFFFFF" fontFamily="mitype-clock" format="E" size="90" x="155" y="43"/>
              <DateTime color="#FFFFFF" format="dd.MM" size="50" x="26" y="36" w="130"/>
              <DateTime color="#FFFFFF" format="yyyy" size="50" x="19" y="100" w="130"/>
            </Group>
            <Group visibility="#calendar_style == 1">
              <Rectangle cornerRadius="50" fillColor="#BF000000" h="200" w="300" x="0" y="0"/>
              <DateTime color="#FFFFFF" format="EEEE" fontFamily="mitype-clock" size="36" x="22" y="107"/>
              <DateTime color="#FFFFFF" format="dd.MM.yyyy" size="50" x="22" y="43"/>
            </Group>
          </Group>
          <!-- Погода и часы -->
          <Group x="350" y="0">
            <Group visibility="#time_weather_style == 0">
              <!-- Погода -->
              <Group x="350" y="0">
                <Rectangle cornerRadius="50" fillColor="#BF000000" h="550" w="230" x="0" y="0"/>
                <Image srcExp="'weather/w_'+ #icon_index+'.png'" x="40" y="20"/>
                <Text align="left" alignV="top" color="#FFFFFF" marqueeSpeed="30" size="40" textExp="@weather_location" w="200" x="15" y="218"/>
                <Text align="left" alignV="top" color="#FFFFFF" marqueeSpeed="30" size="40" textExp="@weather_description" w="200" x="15" y="300"/>
                <Text align="left" alignV="top" color="#FFFFFF" fontFamily="mitype-clock" marqueeSpeed="30" size="80" textExp="@weather_temperature" w="200" x="15" y="410"/>
              </Group>
              <!-- Часы -->
              <Group x="0" y="250">
                <Rectangle cornerRadius="50" fillColor="#BF000000" h="300" w="300" x="0" y="0"/>
                <Image src="clock/time_bg.png" x="34" y="34"/>
                <Image align="center" alignV="center" antiAlias="true" centerX="4" centerY="206/2" rotation="#hour12*30+#minute/2" src="clock/h.png" x="150" y="150"/>
                <Image align="center" alignV="center" antiAlias="true" centerX="4" centerY="206/2" rotation="#minute*6+#second/10" src="clock/m.png" x="150" y="150"/>
                <Image align="center" alignV="center" antiAlias="true" centerX="4" centerY="206/2" rotation="#second*6" src="clock/s.png" x="150" y="150"/>
              </Group>
            </Group>
            <Group visibility="#time_weather_style == 1">
              <!-- Погода -->
              <Group x="0" y="250">
                <Rectangle cornerRadius="50" fillColor="#BF000000" h="300" w="550" x="0" y="0"/>
                <Image srcExp="'weather/w_'+ #icon_index+'.png'" x="380" y="20"/>
                <Text align="left" alignV="top" color="#FFFFFF" marqueeSpeed="30" size="40" textExp="@weather_location" w="335" x="24" y="90"/>
                <Text align="left" alignV="top" color="#FFFFFF" marqueeSpeed="30" size="45" textExp="@weather_description" w="335" x="24" y="33"/>
                <Text align="right" alignV="top" color="#FFFFFF" fontFamily="mitype-clock" marqueeSpeed="30" size="80" textExp="@weather_temperature" w="250" x="530" y="170"/>
              </Group>
              <!-- Часы -->
              <Group x="350" y="0">
                <Rectangle cornerRadius="50" fillColor="#BF000000" h="200" w="200" x="0" y="0"/>
                <Image src="clock/time_bg.png" x="22" y="22" w="155" h="155"/>
                <Image align="center" alignV="center" antiAlias="true" centerX="2" centerY="138/2" rotation="#hour12*30+#minute/2" src="clock/h.png" x="100" y="100" h="138" w="4"/>
                <Image align="center" alignV="center" antiAlias="true" centerX="2" centerY="138/2" rotation="#minute*6+#second/10" src="clock/m.png" x="100" y="100" h="138" w="4"/>
                <Image align="center" alignV="center" antiAlias="true" centerX="2" centerY="138/2" rotation="#second*6" src="clock/s.png" x="100" y="100" h="138" w="4"/>
              </Group>
            </Group>
          </Group>
          <!-- Час -->
          <Group x="0" y="350">
            <Rectangle cornerRadius="50" fillColor="#BF000000" h="200" w="300" x="0" y="0"/>
            <DateTime color="#FFFFFF" fontFamily="mitype-clock" format="HH:mm" size="90" x="29" y="43"/>
          </Group>
        </Group>
      </Group>
      <!-- Музыка -->
      <MusicControl alignV="bottom" autoShow="true" clip="true" enableLyric="true" enableProgress="true" h="210" name="Coolblack_music_control" updateLyricInterval="200" visibility="1" w="210 + (#MusicCoolBlackW - 210)*#_musicShowAni" x="50" y="#screen_height - 160">
        <Image h="210" src="MusicCoolBlack_src/musicBg.9.png" w="210 + (#MusicCoolBlackW - 210)*#_musicShowAni"/>
        <Image align="center" alignV="center" src="MusicCoolBlack_src/shadow.png" x="105" y="105"/>
        <!-- Обложка альбома -->
        <Group align="center" alignV="center" h="130" layered="true" pivotX="65" pivotY="65" rotation="#_musicAni" w="130" x="105" y="105">
          <Image h="130" name="music_album_cover" w="130"/>
          <Image h="130" src="MusicCoolBlack_src/album_cover.png" w="130" xfermodeNum="10"/>
        </Group>
        <Button align="center" alignV="center" h="130" w="130" x="105" y="105">
          <Triggers>
            <Trigger action="up">
              <AnimationCommand command="play" condition="#_musicShowAni == 0" target="_musicShowAni"/>
              <AnimationCommand command="play(-1,0)" condition="#_musicShowAni == 1" target="_musicShowAni"/>
            </Trigger>
          </Triggers>
        </Button>
        <!-- Название -->
        <Text alignV="center" bold="true" color="#000000" marqueeSpeed="30" size="45" textExp="ifelse(len(@Coolblack_music_control.lyric_next),@Coolblack_music_control.title+' - '+@Coolblack_music_control.artist,len(@Coolblack_music_control.title),@Coolblack_music_control.title,'')" w="#MusicCoolBlackW - 620" x="210" y="75"/>
        <!-- Автор -->
        <Text alignV="center" color="#999999" marqueeSpeed="30" size="36" textExp="ifelse(len(@Coolblack_music_control.artist)==0,'',len(@Coolblack_music_control.lyric_next),ifelse(eqs(@Coolblack_music_control.lyric_current,''),@Coolblack_music_control.lyric_last,@Coolblack_music_control.lyric_current),@Coolblack_music_control.artist)" w="#MusicCoolBlackW - 620" x="210" y="141"/>
        <!-- Кнопка : назад -->
        <Button align="center" alignChildren="true" alignV="center" h="200" w="120" x="#MusicCoolBlackW - 336" y="105">
          <Image align="center" alignV="center" src="MusicCoolBlack_src/prev.png" x="60" y="100"/>
          <Triggers>
            <Trigger action="down">
              <MethodCommand method="onButtonDown" paramTypes="String" params="'music_prev'" target="Coolblack_music_control"/>
            </Trigger>
            <Trigger action="up">
              <MethodCommand method="onButtonUp" paramTypes="String" params="'music_prev'" target="Coolblack_music_control"/>
            </Trigger>
          </Triggers>
        </Button>
        <!-- Кнопка : играть -->
        <Button align="center" alignChildren="true" alignV="center" h="200" visibility="#Coolblack_music_control.music_state == 0" w="120" x="#MusicCoolBlackW - 207" y="105">
          <Image align="center" alignV="center" src="MusicCoolBlack_src/play.png" x="60" y="100"/>
          <Triggers>
            <Trigger action="down">
              <MethodCommand method="onButtonDown" paramTypes="String" params="'music_play'" target="Coolblack_music_control"/>
            </Trigger>
            <Trigger action="up">
              <MethodCommand method="onButtonUp" paramTypes="String" params="'music_play'" target="Coolblack_music_control"/>
            </Trigger>
          </Triggers>
        </Button>
        <!-- Кнопка : пауза -->
        <Button align="center" alignChildren="true" alignV="center" h="200" visibility="#Coolblack_music_control.music_state == 1" w="120" x="#MusicCoolBlackW - 207" y="105">
          <Image align="center" alignV="center" src="MusicCoolBlack_src/pause.png" x="60" y="100"/>
          <Triggers>
            <Trigger action="down">
              <MethodCommand method="onButtonDown" paramTypes="String" params="'music_pause'" target="Coolblack_music_control"/>
            </Trigger>
            <Trigger action="up">
              <MethodCommand method="onButtonUp" paramTypes="String" params="'music_pause'" target="Coolblack_music_control"/>
            </Trigger>
          </Triggers>
        </Button>
        <!-- Индикатор воспроизведения -->
        <Arc align="center" alignV="center" cap="round" close="false" h="102" startAngle="-90" strokeAlign="center" strokeColor="#000000" sweep="360*#musicPosition/#Coolblack_music_control.music_duration" w="102" weight="8" x="#MusicCoolBlackW - 207" y="105"/>
        <!-- Кнопка : вперёд -->
        <Button align="center" alignChildren="true" alignV="center" h="200" w="120" x="#MusicCoolBlackW - 78" y="105">
          <Image align="center" alignV="center" src="MusicCoolBlack_src/next.png" x="60" y="100"/>
          <Triggers>
            <Trigger action="down">
              <MethodCommand method="onButtonDown" paramTypes="String" params="'music_next'" target="Coolblack_music_control"/>
            </Trigger>
            <Trigger action="up">
              <MethodCommand method="onButtonUp" paramTypes="String" params="'music_next'" target="Coolblack_music_control"/>
            </Trigger>
          </Triggers>
        </Button>
      </MusicControl>
    </Group>
    <!-- 2 экран -->
    <!-- <Rectangle alpha="255*0.4*#defaultScreen_x/1080" fillColor="#FFFFFF" h="#sh" w="#sw" x="0" y="0"/> -->
    <Group x="-1080+#defaultScreen_x">
      <Image align="center" alignV="center" src="left_screen/youlee.png" x="195" y="400">
        <Mask src="left_screen/mask.png"/>
      </Image>
      <Text align="left" alignV="center" alpha="255" bold="true" color="@qm_color" size="40" textExp="@qmdz" x="120" y="560"/>
      <Var expression="ifelse(strContains(@dztx,'com.android.fileexplorer'),strReplaceAll(@dztx,'content://com.android.fileexplorer.myprovider/external_files/','file:///sdcard/'),strContains(@dztx,'com.miui.gallery'),strReplaceAll(@dztx,'content://com.miui.gallery.open/raw/%2Fstorage%2Femulated%2F0%2F','file:///sdcard/'),@dztx)" name="txdz" type="string"/>
      <Image align="center" alignV="center" h="200" srcExp="@txdz" srcType="Uri" w="200" x="195" y="400">
        <Mask src="left_screen/mask.png"/>
      </Image>
      <Button align="center" alignV="center" h="200" w="200" x="195" y="400">
        <Pressed>
          <circle align="center" alignV="center" alpha="90" fillColor="#3B3B3B" r="200/2" x="#sw/2" y="310"/>
        </Pressed>
        <Triggers>
          <Trigger action="up" condition="abs(#touch_begin_y-#touch_y){50**abs(#touch_begin_x-#touch_x){50">
            <IntentCommand action="android.intent.action.MAIN" class="miui.maml.MamlConfigSettings" package="com.android.thememanager">
              <Extra expression="'lockstyle'" name="maml_code" type="string"/>
            </IntentCommand>
            <ExternCommand command="unlock"/>
          </Trigger>
        </Triggers>
      </Button>
      <Group>
        <!--Фон плагина-->
        <!-- <Rectangle cornerRadius="50" fillColor="#FF00BCA7" h="200" w="420" x="95" y="700"/>
        <Rectangle cornerRadius="50" fillColor="#FF3E79FF" h="200" w="420" x="95" y="920"/>
        <Rectangle cornerRadius="50" fillColor="#FFFED022" h="200" w="890" x="95" y="1170"/>
        <Rectangle cornerRadius="50" fillColor="#FFFED022" h="200" w="200" x="535" y="1420"/>
        <Rectangle cornerRadius="50" fillColor="#FFFD6E53" h="200" w="200" x="785" y="1420"/>
        <Rectangle cornerRadius="50" fillColor="#FF00BCA7" h="420" w="420" x="565" y="700"/>
        <Rectangle cornerRadius="50" fillColor="#FF00BCA7" h="200" w="390" x="95" y="1420"/> -->
        <!--Быстрая оплата-->
        <Image align="center" alignV="center" src="left_screen/wechat.png" x="177" y="800"/>
        <Image align="center" alignV="center" src="left_screen/alipay.png" x="185" y="1020"/>
        <Button align="center" alignV="center" h="180" w="180" x="319" y="800">
          <Normal>
            <Image align="center" alignV="center" alpha="255" src="left_screen/scanner.png" x="319" y="800"/>
          </Normal>
          <Pressed>
            <Image align="center" alignV="center" alpha="255*0.7" src="left_screen/scanner.png" x="319" y="800"/>
          </Pressed>
          <Triggers>
            <Trigger action="up" condition="abs(#touch_begin_y-#touch_y){50**abs(#touch_begin_x-#touch_x){50">
              <ExternCommand command="unlock"/>
              <IntentCommand action="android.intent.action.MAIN" class="com.tencent.mm.plugin.scanner.ui.BaseScanUI" package="com.tencent.mm"/>
            </Trigger>
          </Triggers>
        </Button>
        <Button align="center" alignV="center" h="80" w="80" x="444" y="800">
          <Normal>
            <Image align="center" alignV="center" alpha="255" src="left_screen/wechat_pay.png" x="444" y="802"/>
          </Normal>
          <Pressed>
            <Image align="center" alignV="center" alpha="255*0.7" src="left_screen/wechat_pay.png" x="444" y="802"/>
          </Pressed>
          <Triggers>
            <Trigger action="up" condition="abs(#touch_begin_y-#touch_y){50**abs(#touch_begin_x-#touch_x){50">
              <ExternCommand command="unlock"/>
              <IntentCommand action="android.intent.action.MAIN" class="com.tencent.mm.plugin.offline.ui.WalletOfflineEntranceUI" package="com.tencent.mm"/>
            </Trigger>
          </Triggers>
        </Button>
        <Button align="center" alignV="center" h="80" w="80" x="319" y="1020">
          <Normal>
            <Image align="center" alignV="center" alpha="255" src="left_screen/scanner.png" x="319" y="1020"/>
          </Normal>
          <Pressed>
            <Image align="center" alignV="center" alpha="255*0.7" src="left_screen/scanner.png" x="319" y="1020"/>
          </Pressed>
          <Triggers>
            <Trigger action="up">
              <ExternCommand command="unlock"/>
              <IntentCommand action="android.intent.action.MAIN" class="com.alipay.mobile.scan.as.main.MainCaptureActivity" package="com.eg.android.AlipayGphone"/>
            </Trigger>
          </Triggers>
        </Button>
        <Button align="center" alignV="center" h="80" w="80" x="444" y="1020">
          <Normal>
            <Image align="center" alignV="center" alpha="255" src="left_screen/ali_pay.png" x="444" y="1020"/>
          </Normal>
          <Pressed>
            <Image align="center" alignV="center" alpha="255*0.7" src="left_screen/ali_pay.png" x="444" y="1020"/>
          </Pressed>
          <Triggers>
            <Trigger action="up" condition="abs(#touch_begin_y-#touch_y){50**abs(#touch_begin_x-#touch_x){50">
              <ExternCommand command="unlock"/>
              <IntentCommand action="android.intent.action.MAIN" class="com.eg.android.AlipayGphone.FastStartActivity" package="com.eg.android.AlipayGphone"/>
            </Trigger>
          </Triggers>
        </Button>
        <!--Быстрое применение-->
        <Button align="center" alignV="center" h="150" w="150" x="195" y="1270">
          <Image align="center" alignV="center" h="150" src="left_screen/dialer.png" visibility="eqs(@app1.package,'')*eqs(@app1.class,'')" w="150" x="195" y="1270"/>
          <Image align="center" alignV="center" h="150" srcFormat="%s,%s" srcParas="@app1.package,@app1.class" srcType="ApplicationIcon" w="150" x="195" y="1270">
            <Mask h="150" src="left_screen/dialer.png" w="150" x="195" y="1270"/>
          </Image>
          <Triggers>
            <Trigger action="up">
              <IntentCommand action="android.intent.action.MAIN" class="com.android.contacts.activities.TwelveKeyDialer" id="app1" package="com.android.contacts"/>
              <ExternCommand command="unlock"/>
            </Trigger>
          </Triggers>
          <Pressed/>
        </Button>
        <Button align="center" alignV="center" h="150" w="150" x="425" y="1270">
          <Image align="center" alignV="center" h="150" src="left_screen/message.png" visibility="eqs(@app2.package,'')*eqs(@app2.class,'')" w="150" x="425" y="1270"/>
          <Image align="center" alignV="center" h="150" srcFormat="%s,%s" srcParas="@app2.package,@app2.class" srcType="ApplicationIcon" w="150" x="425" y="1270">
            <Mask h="150" src="left_screen/message.png" w="150" x="425" y="1270"/>
          </Image>
          <Triggers>
            <Trigger action="up">
              <IntentCommand action="android.intent.action.MAIN" class="com.android.mms.ui.MmsTabActivity" id="app2" package="com.android.mms"/>
              <ExternCommand command="unlock"/>
            </Trigger>
          </Triggers>
          <Pressed/>
        </Button>
        <Button align="center" alignV="center" h="150" w="150" x="655" y="1270">
          <Image align="center" alignV="center" h="150" src="left_screen/gallery.png" visibility="eqs(@app3.package,'')*eqs(@app3.class,'')" w="150" x="655" y="1270"/>
          <Image align="center" alignV="center" h="150" srcFormat="%s,%s" srcParas="@app3.package,@app3.class" srcType="ApplicationIcon" w="150" x="655" y="1270">
            <Mask h="150" src="left_screen/gallery.png" w="150" x="655" y="1270"/>
          </Image>
          <Triggers>
            <Trigger action="up">
              <IntentCommand action="android.intent.action.MAIN" class="com.miui.gallery.activity.HomePageActivity" id="app3" package="com.miui.gallery"/>
              <ExternCommand command="unlock"/>
            </Trigger>
          </Triggers>
          <Pressed/>
        </Button>
        <Button align="center" alignV="center" h="150" w="150" x="885" y="1270">
          <Image align="center" alignV="center" h="150" src="left_screen/browser.png" visibility="eqs(@app4.package,'')*eqs(@app4.class,'')" w="150" x="885" y="1270"/>
          <Image align="center" alignV="center" h="150" srcFormat="%s,%s" srcParas="@app4.package,@app4.class" srcType="ApplicationIcon" w="150" x="885" y="1270">
            <Mask h="150" src="left_screen/browser.png" w="150" x="867" y="1270"/>
          </Image>
          <Triggers>
            <Trigger action="up">
              <IntentCommand action="android.intent.action.MAIN" class="com.android.browser.BrowserActivity" id="app4" package="com.android.browser"/>
              <ExternCommand command="unlock"/>
            </Trigger>
          </Triggers>
          <Pressed/>
        </Button>
        <Button align="center" alignV="center" h="200" w="390" x="290" y="1520">
          <Normal>
            <Image align="center" alignV="center" alpha="255" src="left_screen/mijia.png" x="290" y="1520"/>
          </Normal>
          <Pressed>
            <Image align="center" alignV="center" alpha="255*0.7" src="left_screen/mijia.png" x="290" y="1520"/>
          </Pressed>
          <Triggers>
            <Trigger action="up">
              <ExternCommand command="unlock"/>
              <IntentCommand action="android.intent.action.MAIN" class="com.xiaomi.smarthome.SmartHomeMainActivity" package="com.xiaomi.smarthome"/>
            </Trigger>
          </Triggers>
        </Button>
        <Button align="center" alignV="center" h="200" w="200" x="885" y="1520">
          <Normal>
            <Image align="center" alignV="center" alpha="255" src="left_screen/cam.png" x="885" y="1520"/>
          </Normal>
          <Pressed>
            <Image align="center" alignV="center" alpha="255*0.7" src="left_screen/cam.png" x="885" y="1520"/>
          </Pressed>
          <Triggers>
            <Trigger action="up">
              <ExternCommand command="unlock"/>
              <IntentCommand action="android.intent.action.MAIN" class="com.android.camera.Camera" package="com.android.camera"/>
            </Trigger>
          </Triggers>
        </Button>
        <!--Быстрое переключение-->
        <Button align="center" alignV="center" h="150" w="150" x="665" y="784">
          <Image align="center" alignV="center" src="left_screen/ring_off.png" visibility="ifelse(#ring_mode==0,1,0)" x="665" y="784"/>
          <Image align="center" alignV="center" src="left_screen/ring_on.png" visibility="ifelse(#ring_mode}0,1,0)" x="665" y="784"/>
          <Text align="center" alignV="center" color="#FFFFFF" size="30" text="铃声：开" visibility="ifelse(#ring_mode}0,1,0)" x="665" y="875"/>
          <Text align="center" alignV="center" color="#FFFFFF" size="30" text="铃声：关" visibility="ifelse(#ring_mode==0,1,0)" x="665" y="875"/>
          <Triggers>
            <Trigger action="up">
              <Command target="RingMode" value="normal,silent"/>
            </Trigger>
            <Trigger action="down">
              <VariableCommand expression="1" name="noticeDown"/>
            </Trigger>
            <Trigger action="up,cancel">
              <VariableCommand expression="0" name="noticeDown"/>
            </Trigger>
          </Triggers>
        </Button>
        <Button align="center" alignV="center" h="150" w="150" x="885" y="784">
          <Image align="center" alignV="center" src="left_screen/wifi_off.png" visibility="ifelse(#wifi_state==0,1,0)" x="885" y="784"/>
          <Image align="center" alignV="center" src="left_screen/wifi_on.png" visibility="ifelse(#wifi_state}0,1,0)" x="885" y="784"/>
          <Text align="center" alignV="center" color="#FFFFFF" size="30" text="WiFi：开" visibility="ifelse(#wifi_state}0,1,0)" x="885" y="875"/>
          <Text align="center" alignV="center" color="#FFFFFF" size="30" text="WiFi：关" visibility="ifelse(#wifi_state==0,1,0)" x="885" y="875"/>
          <Triggers>
            <Trigger action="up">
              <Command target="Wifi" value="toggle"/>
            </Trigger>
            <Trigger action="down">
              <VariableCommand expression="1" name="noticeDown"/>
            </Trigger>
            <Trigger action="up,cancel">
              <VariableCommand expression="0" name="noticeDown"/>
            </Trigger>
          </Triggers>
        </Button>
        <Button align="center" alignV="center" h="150" w="150" x="665" y="984">
          <Image align="center" alignV="center" src="left_screen/sig_off.png" visibility="ifelse(#data_state==0,1,0)" x="665" y="984"/>
          <Image align="center" alignV="center" src="left_screen/sig_on.png" visibility="ifelse(#data_state}0,1,0)" x="665" y="984"/>
          <Text align="center" alignV="center" color="#FFFFFF" size="30" text="流量：开" visibility="ifelse(#data_state}0,1,0)" x="665" y="1075"/>
          <Text align="center" alignV="center" color="#FFFFFF" size="30" text="流量：关" visibility="ifelse(#data_state==0,1,0)" x="665" y="1075"/>
          <Triggers>
            <Trigger action="up">
              <Command target="Data" value="toggle"/>
            </Trigger>
            <Trigger action="down">
              <VariableCommand expression="1" name="noticeDown"/>
            </Trigger>
            <Trigger action="up,cancel">
              <VariableCommand expression="0" name="noticeDown"/>
            </Trigger>
          </Triggers>
        </Button>
        <Button align="center" alignV="center" h="150" w="150" x="885" y="984">
          <Image align="center" alignV="center" src="left_screen/bluetooth_off.png" visibility="ifelse(#bluetooth_state==0,1,0)" x="885" y="984"/>
          <Image align="center" alignV="center" src="left_screen/bluetooth_on.png" visibility="ifelse(#bluetooth_state}0,1,0)" x="885" y="984"/>
          <Text align="center" alignV="center" color="#FFFFFF" size="30" text="蓝牙：开" visibility="ifelse(#bluetooth_state}0,1,0)" x="885" y="1075"/>
          <Text align="center" alignV="center" color="#FFFFFF" size="30" text="蓝牙：关" visibility="ifelse(#bluetooth_state==0,1,0)" x="885" y="1075"/>
          <Triggers>
            <Trigger action="up">
              <Command target="Bluetooth" value="toggle"/>
            </Trigger>
            <Trigger action="down">
              <VariableCommand expression="1" name="noticeDown"/>
            </Trigger>
            <Trigger action="up,cancel">
              <VariableCommand expression="0" name="noticeDown"/>
            </Trigger>
          </Triggers>
        </Button>
        <Var name="flash_ani">
          <VariableAnimation initPause="true" loop="false">
            <AniFrame easeType="QuintEaseOut" time="0" value="1"/>
            <AniFrame easeType="QuintEaseOut" time="300" value="1.1"/>
            <AniFrame time="600" value="1"/>
          </VariableAnimation>
        </Var>
        <Button align="center" alignV="center" h="200" pivotX="100" pivotY="100" scale="#flash_ani" w="200" x="635" y="1520">
          <Image align="center" alignV="center" src="left_screen/light_off.png" visibility="#lightSwitch==0" x="635" y="1520"/>
          <Image align="center" alignV="center" src="left_screen/light_on.png" visibility="#lightSwitch==1" x="635" y="1520"/>
          <Triggers>
            <Trigger action="up">
              <VariableCommand expression="!(#lightSwitch)" name="lightSwitch"/>
              <IntentCommand action="miui.intent.action.TOGGLE_TORCH" broadcast="true">
                <Extra expression="ifelse(int(@__miui_version_code)}=8,#lightSwitch,1)" name="miui.intent.extra.IS_ENABLE" type="boolean"/>
              </IntentCommand>
            </Trigger>
            <Trigger action="double">
              <VariableCommand expression="!(#lightSwitch)" name="lightSwitch"/>
              <IntentCommand action="miui.intent.action.TOGGLE_TORCH" broadcast="true">
                <Extra expression="ifelse(int(@__miui_version_code)}=8,#lightSwitch,1)" name="miui.intent.extra.IS_ENABLE" type="boolean"/>
              </IntentCommand>
            </Trigger>
            <Trigger action="down">
              <VariableCommand expression="0" name="noticeDown"/>
              <AnimationCommand command="play" target="flash_ani"/>
            </Trigger>
          </Triggers>
        </Button>
      </Group>
    </Group>
  </Group>
  <Var expression="max(min(#SimpleLockScreen_moveX+int(#SimpleLockScreen_moveAn),1080),-1080)" name="defaultScreen_x"/>
  <Var expression="#SimpleLockScreen_unlockAn+#SimpleLockScreen_moveY" name="defaultScreen_y"/>
  <Var name="SimpleLockScreen_moveAn">
    <VariableAnimation initPause="true" loop="false">
      <Item easeType="QuartEaseOut" time="0" value="#SimpleLockScreen_moveA"/>
      <Item time="500" value="#SimpleLockScreen_moveB"/>
      <Triggers>
        <Trigger action="end">
          <VariableCommand expression="#SimpleLockScreen_moveB" name="SimpleLockScreen_moveA"/>
          <IntentCommand action="android.intent.action.MAIN" class="com.android.camera.Camera" condition="#SimpleLockScreen_moveAn == -1080" package="com.android.camera">
            <Extra expression="1" name="ShowCameraWhenLocked" type="boolean"/>
            <Extra expression="1" name="StartActivityWhenLocked" type="boolean"/>
          </IntentCommand>
        </Trigger>
      </Triggers>
    </VariableAnimation>
  </Var>
  <!-- Разблокировки отскока -->
  <Var name="SimpleLockScreen_unlockAn">
    <VariableAnimation initPause="true" loop="false">
      <Item easeType="SineEaseOut" time="0" value="#SimpleLockScreen_unlockA"/>
      <Item time="200" value="0"/>
    </VariableAnimation>
  </Var>
  <Var name="SimpleLockScreen_hintAn">
    <VariableAnimation initPause="true" loop="false">
      <Item time="0" value="0"/>
      <Item time="300" value="178"/>
      <Item time="1200" value="178"/>
    </VariableAnimation>
  </Var>
  <Var name="SimpleLockScreen_springingAn">
    <VariableAnimation initPause="true" loop="false">
      <Item easeType="BounceEaseOut" time="0" value="#nameholder_springingA"/>
      <Item time="600" value="0"/>
    </VariableAnimation>
  </Var>
  <!-- Динамическая частота кадров -->
  <FramerateController initPause="true" loop="false" name="SimpleLockScreen_framerateAni">
    <ControlPoint frameRate="60" time="0"/>
    <ControlPoint frameRate="60" time="2000"/>
    <ControlPoint frameRate="30" time="2001"/>
  </FramerateController>
  <Button h="#screen_height" visibility="#unlockButtonSwitch*(#noticeDown==0)" w="1080" x="0" y="0">
    <Triggers>
      <Trigger action="down">
        <AnimationCommand command="play" target="SimpleLockScreen_framerateAni"/>
      </Trigger>
      <Trigger action="move">
        <AnimationCommand command="play" condition="#frame_rate { 55" target="SimpleLockScreen_framerateAni"/>
        <MultiCommand condition="#SimpleLockScreen_moveX_SW == 0 ** #SimpleLockScreen_moveY_SW == 0">
          <VariableCommand condition="(#SimpleLockScreen_moveX_SW == 0) ** ((#touch_y-#touch_begin_y) { -50)" expression="1" name="SimpleLockScreen_moveY_SW"/>
          <VariableCommand condition="(#SimpleLockScreen_moveY_SW == 0) ** (abs(#touch_begin_x-#touch_x) } 50)" expression="1" name="SimpleLockScreen_moveX_SW"/>
          <VariableCommand condition="#SimpleLockScreen_moveX_SW" expression="((#touch_x } #touch_begin_x)*2-1)*50" name="nameholder_offsetX"/>
        </MultiCommand>
        <VariableCommand condition="#SimpleLockScreen_moveY_SW" expression="min(0,int(#touch_y-#touch_begin_y+50))" name="SimpleLockScreen_moveY"/>
        <MultiCommand condition="#SimpleLockScreen_moveX_SW">
          <VariableCommand expression="(#touch_begin_y { (#screen_height-(100)*2)+200) ** (int(#SimpleLockScreen_moveAn+#touch_x-(#touch_begin_x+#nameholder_offsetX)) { 0)" name="SimpleLockScreen_leftMoveSW"/>
          <VariableCommand expression="max(-50,#SimpleLockScreen_leftMoveSW*int(#touch_x-#touch_begin_x+50))" name="nameholder_springingA"/>
          <VariableCommand expression="int(#touch_x-(#touch_begin_x+#nameholder_offsetX))" name="SimpleLockScreen_moveX"/>
          <VariableCommand condition="#SimpleLockScreen_leftMoveSW" expression="max(#SimpleLockScreen_moveX,0)" name="SimpleLockScreen_moveX"/>
        </MultiCommand>
      </Trigger>
      <Trigger action="up,cancel">
        <AnimationCommand command="play" target="SimpleLockScreen_framerateAni"/>
        <MultiCommand condition="#SimpleLockScreen_moveY_SW">
          <ExternCommand command="unlock" condition="#SimpleLockScreen_moveY {= -350"/>
          <VariableCommand expression="#SimpleLockScreen_moveY {= -350" name="SimpleLockScreen_unlockSW"/>
          <MultiCommand condition="#SimpleLockScreen_moveY } -350">
            <VariableCommand expression="#SimpleLockScreen_moveY" name="SimpleLockScreen_unlockA"/>
            <VariableCommand expression="0" name="SimpleLockScreen_moveY"/>
            <AnimationCommand command="play" target="SimpleLockScreen_unlockAn"/>
          </MultiCommand>
        </MultiCommand>
        <MultiCommand condition="#SimpleLockScreen_moveX_SW">
          <VariableCommand expression="((#touch_x } #touch_begin_x)*2-1)*(abs(#SimpleLockScreen_moveX) } 200)*(#defaultScreen_x { 1080)*(#defaultScreen_x } -1080)" name="SimpleLockScreen_direction"/>
          <MultiCommand condition="#SimpleLockScreen_moveX != 0">
            <VariableCommand expression="#defaultScreen_x" name="SimpleLockScreen_moveA"/>
            <VariableCommand expression="#SimpleLockScreen_moveB+#SimpleLockScreen_direction*1080" name="SimpleLockScreen_moveB"/>
            <VariableCommand expression="0" name="SimpleLockScreen_moveX"/>
            <AnimationCommand command="play" target="SimpleLockScreen_moveAn"/>
          </MultiCommand>
          <MultiCommand condition="#SimpleLockScreen_direction == 0 ** #touch_x { #touch_begin_x">
            <AnimationCommand command="play(1200,0)" target="SimpleLockScreen_hintAn"/>
            <AnimationCommand command="play" target="SimpleLockScreen_springingAn"/>
            <VariableCommand expression="0" name="nameholder_springingA"/>
          </MultiCommand>
        </MultiCommand>
        <VariableCommand expression="0" name="nameholder_offsetX"/>
        <VariableCommand condition="!#SimpleLockScreen_unlockSW" expression="0" name="SimpleLockScreen_moveY_SW"/>
        <VariableCommand expression="0" name="SimpleLockScreen_moveX_SW"/>
      </Trigger>
    </Triggers>
  </Button>
</Lockscreen>